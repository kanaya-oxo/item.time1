<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>OBS カスタム時計</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
    }

    body {
      background: black;
      display: flex;
      align-items: center;
      justify-content: center;
      background-size: cover;
      background-position: center;
      position: relative;
    }

    #overlay {
      position: absolute;
      inset: 0;
      background-color: transparent;
      mix-blend-mode: multiply;
      z-index: 0;
    }

    #clock {
      z-index: 1;
      font-family: 'Segoe UI', sans-serif;
      font-weight: bold;
      font-size: 80px;
      background: linear-gradient(90deg, #ffffff, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body>
  <div id="overlay"></div>
  <div id="clock">--:--:--</div>

  <script>
    function updateClock() {
      const now = new Date();
      const timeStr = now.toLocaleTimeString('ja-JP', { hour12: false });
      document.getElementById("clock").textContent = timeStr;
    }

    function applyStyles() {
      const params = new URLSearchParams(window.location.search);

      // 背景画像
      const bgImage = params.get("bgImage");
      if (bgImage) {
        document.body.style.backgroundImage = `url(${bgImage})`;
      }

      // 乗算色
      const multiplyColor = params.get("multiply") || "transparent";
      document.getElementById("overlay").style.backgroundColor = multiplyColor;

      // フォントサイズ
      const size = params.get("size");
      if (size) {
        document.getElementById("clock").style.fontSize = `${size}px`;
      }

      // グラデーション
      const gradFrom = params.get("gradFrom") || "#ffffff";
      const gradTo = params.get("gradTo") || "#00ffff";
      document.getElementById("clock").style.background = `linear-gradient(90deg, ${gradFrom}, ${gradTo})`;
    }

    applyStyles();
    updateClock();
    setInterval(updateClock, 1000);
  </script>
</body>
</html>
